(this["webpackJsonpcharacter-sheet"]=this["webpackJsonpcharacter-sheet"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a.n(c),l=(a(13),a(1)),s=a(2),o=a(3),u=a(5),m=a(4),d=function(e){var t=e.header,a=e.body,n=e.className;return r.a.createElement("div",{className:"card ".concat(n||"")},r.a.createElement("div",{className:"card-header"},t," "),r.a.createElement("div",{className:"card-body"},a))},h=(a(14),a(15),a(16),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).updateUICharacter=function(e){n.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{character:e(t.character)})}))},n.saveChanges=function(){n.props.saveChanges((function(){return n.state.character})),n.close()},n.close=function(){n.props.dialogState.onClose&&n.props.dialogState.onClose(),n.props.updateUI((function(e){return Object(l.a)(Object(l.a)({},e),{},{dialog:{isOpen:!1,node:function(){return null},close:function(){}}})})),n.updateUICharacter((function(){return n.props.character}))},n.state={character:e.character},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.dialogState,t=this.state.character;return e.isOpen?r.a.createElement("div",{className:"dialog-backdrop"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Modal title"),r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:this.close},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},e.node(t,this.updateUICharacter)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.saveChanges},"Save changes"),r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.close},"Close"))))):null}}]),a}(r.a.Component));function b(e){return{name:"d".concat(e),size:e}}function f(e){return e<=0?[b(2)]:e>=36?[b(20)]:[b(2*Math.ceil(e/6))]}function v(){return p}var p=[{name:"Power",shortName:"Pow",isMental:!1,isPhysical:!0},{name:"Finesse",shortName:"Fin",isMental:!1,isPhysical:!0},{name:"Resilience",shortName:"Res",isMental:!1,isPhysical:!0},{name:"Intellect",shortName:"Int",isMental:!1,isPhysical:!0},{name:"Wits",shortName:"Wit",isMental:!1,isPhysical:!0},{name:"Presence",shortName:"Pre",isMental:!1,isPhysical:!0}],N=[{name:"Warick",attribute:v().find((function(e){return"Pow"===e.shortName}))}];function E(){return N}var g=[{name:"Strengthen",effect:"Add an additional Power attribute die to a Power action's roll total.",level:1,fated:E().find((function(e){return"Pow"===e.attribute.shortName}))},{name:"Flex",effect:"Increase one adjacent entity\u2019s Power attribute die size by two pips until the next rest.",level:1,fated:E().find((function(e){return"Pow"===e.attribute.shortName}))},{name:"Bulk",effect:"You or one adjacent entity can use the sum of two Power dice you roll as the roll total for any one physical action.",level:1,fated:E().find((function(e){return"Pow"===e.attribute.shortName}))},{name:"Punish",effect:"Double the roll total of the next physical action against one selected entity.",level:1,fated:E().find((function(e){return"Pow"===e.attribute.shortName}))},{name:"Overpower",effect:"One selected entity takes their lowest die value for their next three Power actions.",level:1,fated:E().find((function(e){return"Pow"===e.attribute.shortName}))},{name:"Retaliate",effect:"Inflict degrees of a physical status condition you have on up to three selected targets within an encounter - 1 degree on three entities, 2 degrees on 2 entities, three degrees on 1 entity. These do not affect spirit or adrenaline",level:1,fated:E().find((function(e){return"Pow"===e.attribute.shortName}))}];function C(e,t,a){return(e.attributes.get(t)||0)+k(e,t)+(a||e.totem.fated.attribute!==t?0:6)}function k(e,t){return e.skills.reduce((function(e,a){return e+(a.attribute===t?a.level:0)}),0)}var y=function(e){var t=e.openDialog;return r.a.createElement("div",{className:"header"},"Attributes",r.a.createElement("button",{className:"btn-primary btn-sm btn right",onClick:function(){t((function(e,t){return r.a.createElement(w,{editMode:!0,character:e,updateCharacter:t})}))}},"Edit"))},w=function(e){var t=e.character,a=e.editMode,n=e.updateCharacter;return r.a.createElement("div",{className:"attribute-grid"},r.a.createElement("div",{className:"attribute-header"},r.a.createElement("div",{className:"attribute-title"}," Name "),r.a.createElement("div",{className:"attribute-base"}," Base "),r.a.createElement("div",{className:"attribute-skills"}," Skills "),r.a.createElement("div",{className:"attribute-total"}," Total "),r.a.createElement("div",{className:"attribute-dice"}," Dice ")),v().map((function(e){return r.a.createElement(O,{updateCharacter:n,editMode:a,attribute:e,character:t})})))},O=function(e){var t,a=e.attribute,c=e.character,i=e.editMode,s=e.updateCharacter,o=c.attributes.get(a);return t=i?r.a.createElement("input",{type:"number",defaultValue:o,className:"attribute-base",onChange:function(e){var t=e.target.valueAsNumber;isNaN(t)||s((function(e){var n=new Map(e.attributes);return n.set(a,t),Object(l.a)(Object(l.a)({},e),{},{attributes:n})}))}}):r.a.createElement(n.Fragment,null," ",o," "),r.a.createElement("div",{className:"attribute-row"},r.a.createElement("div",{className:"attribute-title ".concat(a.name,"-Header")},a.name),r.a.createElement("div",{className:"attribute-base ".concat(a.name)}," ",t," "),r.a.createElement("div",{className:"attribute-skills ".concat(a.name)},k(c,a)),r.a.createElement("div",{className:"attribute-total ".concat(a.name)},C(c,a,!0)),r.a.createElement("div",{className:"attribute-dice ".concat(a.name)},f(C(c,a,!0)).map((function(e){return e.name}))," (",f(C(c,a,!1)).map((function(e){return e.name})),")"))};var j=function(e){var t=e.appControls,a=e.state;return r.a.createElement("div",{className:"header"},"Skills",r.a.createElement("button",{className:"btn-primary btn-sm btn right",onClick:function(){t.openDialog((function(e,n){return r.a.createElement(P,{editMode:!0,appControls:Object(l.a)(Object(l.a)({},t),{},{updateCharacter:n}),state:Object(l.a)(Object(l.a)({},a),{},{character:e})})}))}},"Edit"))},P=function(e){var t=e.state,a=e.editMode,c=e.appControls;return r.a.createElement("div",{className:"skill-grid"},r.a.createElement("div",{className:"skill-header"},r.a.createElement("div",{className:"skill-name"},"Skill Name"),r.a.createElement("div",{className:"skill-level"}," Level "),r.a.createElement("div",{className:"skill-attribute"}," Attribute "),r.a.createElement("div",{className:"skill-dice"}," Dice ")),t.character.skills.map((function(e){return function(e,t,a){var c,i=a.updateCharacter,s=e.level;c=t?r.a.createElement("input",{type:"number",max:6,min:2,defaultValue:s,className:"skill-level",onChange:function(t){var a=t.target.valueAsNumber;isNaN(a)||i((function(t){return Object(l.a)(Object(l.a)({},t),{},{skills:t.skills.map((function(t){return t===e?Object(l.a)(Object(l.a)({},e),{},{level:a}):t}))})}))}}):r.a.createElement(n.Fragment,null," ",s," ");return r.a.createElement("div",{className:"skill-row"},r.a.createElement("div",{className:"skill-name"}," ",e.name," "),r.a.createElement("div",{className:"skill-level"}," ",c," "),r.a.createElement("div",{className:"skill-attribute"}," ",e.attribute.name," "),r.a.createElement("div",{className:"skill-dice"}," ",(o=e,b(2*o.level)).name," "));var o}(e,a,c)})))};var M=function(e){var t=e.character;return r.a.createElement("div",{className:"header ".concat(t.totem.fated.attribute.name)},"Totem - ",t.totem.fated.name,r.a.createElement("button",{className:"btn-primary btn-sm btn right"}," Edit "))},I=function(e){var t=e.character;return r.a.createElement("div",{className:"blessing-grid"},r.a.createElement("div",{className:"blessing-header"},r.a.createElement("div",{className:"blessing-name"}," Name "),r.a.createElement("div",{className:"blessing-fated"}," Fated "),r.a.createElement("div",{className:"blessing-level"}," Level "),r.a.createElement("div",{className:"blessing-effect"}," Effect ")),t.totem.blessings.map((function(e){return r.a.createElement("div",{className:"blessing-row"},r.a.createElement("div",{className:"blessing-name"}," ",e.name," "),r.a.createElement("div",{className:"blessing-fated"}," ",e.fated.name," "),r.a.createElement("div",{className:"blessing-level"}," ",e.level," "),r.a.createElement("div",{className:"blessing-effect"}," ",e.effect," "))})))},S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).updateUI=function(e){n.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{ui:e(t.ui)})}))},n.updateCharacter=function(e){n.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{character:e(t.character)})}))},n.openDialog=function(e,t){n.updateUI((function(a){return Object(l.a)(Object(l.a)({},a),{},{dialog:{isOpen:!0,node:e,onClose:t}})}))},n.AppControls={openDialog:n.openDialog,updateCharacter:n.updateCharacter},n.WidgetProps=function(){return{appControls:n.AppControls,state:n.state,editMode:!1}},n.state={character:{name:"test",player:"test",age:3,gender:"test",bio:"test",attributes:new Map(v().map((function(e){return[e,6]}))),skills:[{attribute:v()[0],level:6,name:"Jumping"},{attribute:v()[0],level:4,name:"Climbing"},{attribute:v()[0],level:3,name:"Parkour"}],totem:{blessings:g,fated:E()[0]}},ui:{dialog:{isOpen:!1,onClose:function(){},node:function(){return null}}}},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App card-columns"},r.a.createElement(d,function(e){var t=e.appControls,a=e.state;return{header:r.a.createElement(y,{character:a.character,openDialog:t.openDialog}),body:r.a.createElement(w,{character:a.character,updateCharacter:t.updateCharacter,editMode:!1}),className:"attribute-widget"}}(this.WidgetProps())),r.a.createElement(d,(e=this.WidgetProps(),{header:r.a.createElement(j,e),body:r.a.createElement(P,e),className:"skills-widget"})),r.a.createElement(d,function(e){var t=e.state;return{header:r.a.createElement(M,{character:t.character}),body:r.a.createElement(I,{character:t.character}),className:"blessing-widget"}}(this.WidgetProps())),r.a.createElement(h,{updateUI:this.updateUI,saveChanges:this.updateCharacter,character:this.state.character,dialogState:this.state.ui.dialog}));var e}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.6f0714e9.chunk.js.map