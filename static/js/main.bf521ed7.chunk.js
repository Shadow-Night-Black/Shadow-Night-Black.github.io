(this["webpackJsonpcharacter-sheet"]=this["webpackJsonpcharacter-sheet"]||[]).push([[0],[,,,,,,,,function(e){e.exports=JSON.parse('[{"name":"Warroch","attribute":1},{"name":"Virimis","attribute":2},{"name":"Corservus","attribute":3},{"name":"Genivie","attribute":4},{"name":"Pherynne","attribute":5},{"name":"Belia","attribute":6}]')},function(e){e.exports=JSON.parse('[{"name":"Strengthen","effect":"Add an additional Power attribute die to a Power action\'s roll total.","level":1,"fated":1},{"name":"Quicken","effect":"Add an additional Finesse attribute die to a Finesse action\'s roll total.","level":1,"fated":2},{"name":"Toughen","effect":"Add an additional Resilience attribute die to a Resilience action\'s roll total.","level":1,"fated":3},{"name":"Augment","effect":"Add an additional Intellect attribute die to an Intellect action\'s roll total.","level":1,"fated":4},{"name":"Heighten","effect":"Add an additional Wits attribute die to a Wits action\'s roll total.","level":1,"fated":5},{"name":"Perfect","effect":"Add an additional Presence attribute die to a Presence action\'s roll total.","level":1,"fated":6},{"name":"Flex","effect":"Increase one adjacent entity\u2019s Power attribute die size by two pips until the next rest.","level":1,"fated":1},{"name":"Balance","effect":"Increase one adjacent entity\u2019s Finesse attribute die size by two pips until the next rest.","level":1,"fated":2},{"name":"Guard","effect":"Increase one adjacent entity\u2019s Resilience attribute die size by two pips until the next rest.","level":1,"fated":3},{"name":"Clarify","effect":"Increase one adjacent entity\u2019s Intellect attribute die size by two pips until the next rest.","level":1,"fated":4},{"name":"Awaken","effect":"Increase one adjacent entity\u2019s Wits attribute die size by two pips until the next rest.","level":1,"fated":5},{"name":"Influence","effect":"Increase one adjacent entity\u2019s Presence attribute die size by two pips until the next rest.","level":1,"fated":6},{"name":"Bulk","effect":"You or one adjacent entity can use the sum of two Power dice you roll as the roll total for any one physical action.","level":2,"fated":1},{"name":"Swift","effect":"Immediately use your Finesse die total as the roll total for one additional Finesse action.","level":2,"fated":2},{"name":"Repair","effect":"Immediately use your Resilience die total for one additional action to reduce physical status conditions.","level":2,"fated":3},{"name":"Abstract","effect":"Add an additional Intellect attribute die to any non-Intellect action\u2019s roll total.","level":2,"fated":4},{"name":"Restore","effect":"Immediately use your Wits die total for an additional action to reduce mental status conditions.","level":2,"fated":5},{"name":"Inspire","effect":"You or one adjacent entity can use the sum of two Presence dice you roll as the roll total for any one mental action.","level":2,"fated":6},{"name":"Punish","effect":"Double the roll total of the next physical action against one selected entity.","level":2,"fated":1},{"name":"Momentum","effect":"Immediately repeat one physical action, using the same roll total, against the same or another viable target.","level":2,"fated":2},{"name":"Sentry","effect":"Elect to be the target of a physical action for which you are in range and half the roll total.","level":2,"fated":3},{"name":"Second Thought","effect":"Roll one action again, using all dice from both rolls as part of the dice pool.","level":2,"fated":4},{"name":"Foresight","effect":"Double the roll total of your next reflexive action.","level":2,"fated":5},{"name":"Double-take","effect":"One selected entity rolls one action again and uses the lowest die value across either roll.","level":2,"fated":6},{"name":"Overpower","effect":"One selected entity takes their lowest die value for their next three Power actions.","level":3,"fated":1},{"name":"Hinder","effect":"One selected entity takes their lowest die value for their next three Finesse actions.","level":3,"fated":2},{"name":"Fracture","effect":"One selected entity takes their lowest die value for their next three Resilience actions.","level":3,"fated":3},{"name":"Obfuscate","effect":"One selected entity takes their lowest die value for their next three Intellect actions.","level":3,"fated":4},{"name":"Overwhelm","effect":"One selected entity takes their lowest die value for their next three Wits actions.","level":3,"fated":5},{"name":"Outshine","effect":"One selected entity takes their lowest die value for their next three Presence actions.","level":3,"fated":6},{"name":"Retaliate","effect":"Inflict degrees of a physical status condition you have on up to three selected targets within an encounter - 1 degree on three entities, 2 degrees on 2 entities, three degrees on 1 entity. These do not affect spirit or adrenaline","level":3,"fated":1},{"name":"Multiply","effect":"One physical action can affect up to three selected entities regardless of range, using the same roll total, ignoring all disadvantages.","level":3,"fated":2},{"name":"Reinforce","effect":"Grant you and any selected adjacent entities resistance to the next three physical actions taken against any of you.","level":3,"fated":3},{"name":"Bewilder","effect":"Inflict degrees of a mental status condition you have on up to three targets within an encounter - 1 degree on three entities, 2 degrees on 2 entities, three degrees on 1 entity. These do not affect spirit or adrenaline","level":3,"fated":4},{"name":"Expose","effect":"One selected entity is treated as vulnerable to the next three successful physical actions against it.","level":3,"fated":5},{"name":"Encourage","effect":"Grant you and any selected adjacent entities resistance to the next three mental actions taken against any of you","level":3,"fated":6},{"name":"War Cry","effect":"For up to four Power actions performed by you or any selected entity, double the roll total.","level":4,"fated":1},{"name":"Beckoning Sign","effect":"For up to four Finesse actions performed by you or any selected entity, double the roll total.","level":4,"fated":2},{"name":"Shield Command","effect":"For up to four Resilience actions performed by you or any selected entity, double the roll total.","level":4,"fated":3},{"name":"Telling Rite","effect":"For up to four Intellect actions performed by you or any selected entity, double the roll total.","level":4,"fated":4},{"name":"Willing Voice","effect":"For up to four Wits actions performed by you or any selected entity, double the roll total.","level":4,"fated":5},{"name":"Harmonising Word","effect":"For up to four Presence actions performed by you or any selected entity, double the roll total.","level":4,"fated":6},{"name":"Break Through","effect":"Select up to four entities. The next physical action against each entity cannot be rolled against.","level":4,"fated":1},{"name":"Step Ahead","effect":"Gain four additional Finesse actions or any manoeuvres to take at any time.","level":4,"fated":2},{"name":"Endure","effect":"Immediately use twice your Resilience die total for an action to reduce physical status conditions or regain Spirit for you or any adjacent entities.","level":4,"fated":3},{"name":"Outwit","effect":"One selected entity is treated as vulnerable to the next four successful mental actions against it.","level":4,"fated":4},{"name":"Stay Alert","effect":"Gain four additional Wits actions or any manoeuvres to take at any time.","level":4,"fated":5},{"name":"Reassure","effect":"Immediately use twice your Presence die total for an action to reduce mental status conditions or regain Spirit for your or any adjacent entities.","level":4,"fated":6},{"name":"Dominate","effect":"May apply your Power attribute die total as the roll total for the next 5 Power actions.","level":5,"fated":1},{"name":"Haste","effect":"May apply your Finesse attribute die total as the roll total for the next 5 Finesse actions.","level":5,"fated":2},{"name":"Vigilance","effect":"May apply your Resilience attribute die total as the roll total for the next 5 Resilience actions.","level":5,"fated":3},{"name":"Concentrate","effect":"May apply your Intellect attribute die total as the roll total for the next 5 Intellect actions.","level":5,"fated":4},{"name":"Perspective","effect":"May apply your Wits attribute die total as the roll total for the next 5 Wits actions.","level":5,"fated":5},{"name":"Irresistible","effect":"May apply your Presence attribute die total as the roll total for the next 5 Presence actions.","level":5,"fated":6},{"name":"Devastating Blow","effect":"Immediately inflict 5 degrees of Bleed and/or Feeble status to one entity. This does not affect Spirit or adrenaline.","level":5,"fated":1},{"name":"Paralysing Touch","effect":"Immediately inflict 5 degrees of Blind and/or Paralysis status to one entity. This does not affect Spirit or adrenaline.","level":5,"fated":2},{"name":"Crushing Palm","effect":"Immediately inflict 5 degrees of Petrification and/or Slow status to one entity. This does not affect Spirit or adrenaline.","level":5,"fated":3},{"name":"Perplexing Notion","effect":"Immediately inflict 5 degrees of Stun and/or Confusion status to one entity. This does not affect Spirit or adrenaline.","level":5,"fated":4},{"name":"Blinding Light","effect":"Immediately inflict 5 degrees of Blind and/or Burn status to one entity. This does not affect Spirit or adrenaline.","level":5,"fated":5},{"name":"Unnerving Truth","effect":"Immediately inflict 5 degrees of Disturbance and/or Fear status to one entity. This does not affect Spirit or adrenaline.","level":5,"fated":6},{"name":"Warroch\u2019s Arm","effect":"Roll 6 Power attribute dice and add the total for one Power action, ignoring disadvantages.","level":6,"fated":1},{"name":"Virimis\u2019s Hand","effect":"Roll 6 Finesse attribute dice and add the total for one Finesse action, ignoring disadvantages.","level":6,"fated":2},{"name":"Corservus\u2019s Shoulder","effect":"Roll 6 Resilience attribute dice and add the total for one Resilience action, ignoring disadvantages.","level":6,"fated":3},{"name":"Genivie\u2019s Thought","effect":"Roll 6 Intellect attribute dice and add the total for one Intellect action, ignoring disadvantages.","level":6,"fated":4},{"name":"Pherynne\u2019s Eye","effect":"Roll 6 Wits attribute dice and add the total for one Wits action, ignoring disadvantages.","level":6,"fated":5},{"name":"Belia\u2019s Tongue","effect":"Roll 6 Presence attribute dice and add the total for one Presence action, ignoring disadvantages.","level":6,"fated":6},{"name":"Warroch\u2019s Honour","effect":"Round the roll total up to the nearest multiple of 5 for any Power action until the next rest.","level":6,"fated":1},{"name":"Virimis\u2019s Technique","effect":"Add an additional 2d6 to the dice pool of any Finesse roll until the next rest.","level":6,"fated":2},{"name":"Corservus\u2019s Burden","effect":"Treat all 1s as a value of 10 for any Resilience action until the next rest.","level":6,"fated":3},{"name":"Genivie\u2019s Focus","effect":"roll four Intellect dice as your dice pool for any Intellect action until the next rest.","level":6,"fated":4},{"name":"Pherynne\u2019s Trust","effect":"Roll with a +3 bonus and ignore disadvantages for any Wits action until the next rest.","level":6,"fated":5},{"name":"Belia\u2019s Guile","effect":"Reroll once any 1s or 2s rolled for any Presence action until the next rest.","level":6,"fated":6}]')},function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),i=a.n(r),o=(a(15),a(1)),s=a(2),c=a(3),u=a(5),d=a(4);a(16);var f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).updateUI=function(t){e.props.updateUI((function(e){return Object(o.a)(Object(o.a)({},e),{},{dialog:Object(o.a)(Object(o.a)({},e.dialog),{},{model:t(e.dialog.model)})})}))},e.saveChanges=function(){e.props.appControls.update((function(){return e.props.dialogState.model})),e.close()},e.close=function(){e.props.updateUI((function(t){return Object(o.a)(Object(o.a)({},t),{},{dialog:Object(o.a)(Object(o.a)({},e.props.dialogState),{},{isOpen:!1,body:function(){return null},header:function(){return null}})})})),e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{closed:!0})}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.dialogState;if(!e.isOpen)return null;var t=this.props.dialogState.model,a=Object(o.a)(Object(o.a)({},this.props.appControls),{},{update:this.updateUI});return l.a.createElement("div",{className:"dialog-backdrop"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header modal-title"},l.a.createElement(e.header,{appControls:a,state:t,editMode:!0}),l.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:this.close},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement(e.body,{appControls:a,state:t,editMode:!0})," "),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.saveChanges},"Save changes"),l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.close},"Close")))))}}]),a}(l.a.Component);function m(e,t){var a=t.header,n=t.body,r=t.className;return l.a.createElement("div",{className:"card ".concat(r||"")},l.a.createElement("div",{className:"card-header"},a(e)," ",function(e,t,a){return l.a.createElement("button",{className:"btn-primary btn-sm btn ",onClick:function(){e.openDialog(t,a)}},"Edit")}(e.appControls,a,n)," "),l.a.createElement("div",{className:"card-body"},n(e)))}a(17),a(18);function b(e){return{name:"d".concat(e),size:e}}function h(e){return e<=0?[b(2)]:e>=36?[b(20)]:[b(2+2*Math.floor(e/6))]}function y(){return p}var p=[{name:"Power",shortName:"Pow",isMental:!1,isPhysical:!0},{name:"Finesse",shortName:"Fin",isMental:!1,isPhysical:!0},{name:"Resilience",shortName:"Res",isMental:!1,isPhysical:!0},{name:"Intellect",shortName:"Int",isMental:!1,isPhysical:!0},{name:"Wits",shortName:"Wit",isMental:!1,isPhysical:!0},{name:"Presence",shortName:"Pre",isMental:!1,isPhysical:!0}].map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{key:t})}));function v(e){return b(2*e.level)}function g(e,t){var a,n,l,r;return{name:null!==(a=null===t||void 0===t?void 0:t.name)&&void 0!==a?a:"New Skill",level:null!==(n=null===t||void 0===t?void 0:t.level)&&void 0!==n?n:2,attribute:null!==(l=null===t||void 0===t?void 0:t.attribute)&&void 0!==l?l:y()[0],key:(r=e.skills,r.reduce((function(e,t){return e>t.key?e:t.key}),0)+1)}}var k=a(8).map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{attribute:y()[e.attribute-1],key:t})}));function E(){return k}function N(){return O}var O=a(9).map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{fated:E()[e.fated-1],key:t})}));function j(e,t,a){var n;return(e.attributes.get(t)||0)+w(e,t)+(a||(null===(n=e.totem.fated[0])||void 0===n?void 0:n.attribute.key)!==t.key?0:6)}function w(e,t){return e.skills.reduce((function(e,a){return e+(a.attribute.key===t.key?a.level:0)}),0)}var I=[{level:6,name:"Jumping"},{level:4,name:"Climbing"},{level:3,name:"Parkour"}];function P(){var e={name:"test",player:"test",age:3,gender:"test",bio:"test",attributes:new Map(y().map((function(e){return[e,6]}))),skills:[],totem:{blessings:[],fated:[E()[0]]}};return I.forEach((function(t){return e.skills.push(g(e,t))})),e.totem.blessings=N().filter((function(t){return e.totem.fated.includes(t.fated)})).slice(0,5),e}function C(e){var t=JSON.parse(e),a=t.version,n=t.data;if(1===a)return Object(o.a)(Object(o.a)({},n),{},{attributes:new Map(y().map((function(e,t){return[e,n.attributes[t]]})))});throw new Error("Invalid save data!")}a(19);var x=function(e){var t,a=e.attribute,r=e.character,i=e.editMode,s=e.updateCharacter,c=r.attributes.get(a);return t=i?l.a.createElement("input",{type:"number",defaultValue:c,className:"attribute-base",onChange:function(e){var t=e.target.valueAsNumber;isNaN(t)||s((function(e){var n=new Map(e.attributes);return n.set(a,t),Object(o.a)(Object(o.a)({},e),{},{attributes:n})}))}}):l.a.createElement(n.Fragment,null," ",c," "),l.a.createElement("tr",{className:"attribute-row"},l.a.createElement("td",{className:"attribute-title ".concat(a.name)},a.name),l.a.createElement("td",{className:"attribute-base ".concat(a.name)}," ",t," "),l.a.createElement("td",{className:"attribute-skills ".concat(a.name)},w(r,a)),l.a.createElement("td",{className:"attribute-total ".concat(a.name)},j(r,a,!0)),l.a.createElement("td",{className:"attribute-dice ".concat(a.name)},h(j(r,a,!0)).map((function(e){return e.name}))," (",h(j(r,a,!1)).map((function(e){return e.name})),")"))},S={header:function(){return l.a.createElement("h5",{className:"modal-title"},"Attributes")},body:function(e){var t=e.state,a=e.appControls.update,n=e.editMode;return l.a.createElement("table",{className:"attribute-grid"},l.a.createElement("thead",{className:"attribute-header"},l.a.createElement("tr",null,l.a.createElement("th",{className:"attribute-title"}," Name "),l.a.createElement("th",{className:"attribute-base"}," Base "),l.a.createElement("th",{className:"attribute-skills"}," Skills "),l.a.createElement("th",{className:"attribute-total"}," Total "),l.a.createElement("th",{className:"attribute-dice"}," Dice "))),l.a.createElement("tbody",null,y().map((function(e){return l.a.createElement(x,{updateCharacter:a,editMode:n,attribute:e,character:t,key:e.key})}))))},className:"attribute-widget"};a(20);var F={header:function(){return l.a.createElement("div",{className:"header"},l.a.createElement("h5",{className:"modal-title"},"Skills"))},body:function(e){var t=e.state,a=e.editMode,r=e.appControls;return l.a.createElement(n.Fragment,null,l.a.createElement("table",{className:"skill-grid table-condensed"},l.a.createElement("thead",{className:"skill-header"},l.a.createElement("tr",null,l.a.createElement("th",{className:"skill-name"},"Skill Name"),l.a.createElement("th",{className:"skill-level"}," Level "),l.a.createElement("th",{className:"skill-attribute"}," Attribute "),l.a.createElement("th",{className:"skill-dice"}," Dice "),l.a.createElement("th",{className:"skill-delete"}," "))),l.a.createElement("tbody",null,t.skills.map((function(e){return a?function(e,t){var a=t.update,n=t.remove;return l.a.createElement("tr",{className:"skill-row ".concat(e.attribute.name),key:e.key},l.a.createElement("td",{className:"skill-name"},l.a.createElement("input",{className:"skill-name-input",defaultValue:e.name,onBlur:function(e){var t=e.target.value;return a((function(e){return Object(o.a)(Object(o.a)({},e),{},{name:t})}))}})," "),l.a.createElement("td",{className:"skill-level"},l.a.createElement("input",{type:"number",max:6,min:2,defaultValue:e.level,className:"skill-level",onChange:function(e){var t=e.target.valueAsNumber;isNaN(t)||a((function(e){return Object(o.a)(Object(o.a)({},e),{},{level:t})}))}})),l.a.createElement("td",{className:"skill-attribute"},l.a.createElement("select",{className:"btn",defaultValue:e.attribute.key,onChange:function(e){var t=y().find((function(t){return t.key===Number(e.target.value)}));t&&a((function(e){return Object(o.a)(Object(o.a)({},e),{},{attribute:t})}))}},y().map((function(e){return l.a.createElement("option",{value:e.key,key:e.key},e.name)})))),l.a.createElement("td",{className:"skill-dice"}," ",v(e).name," "),l.a.createElement("td",{className:"skill-delete"},l.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm btn",onClick:function(){return n((function(t){return t.key===e.key}))}},"x")))}(e,Object(o.a)(Object(o.a)({},r),{},{openDialog:function(){return null},remove:function(e){return r.update((function(t){return Object(o.a)(Object(o.a)({},t),{},{skills:t.skills.filter((function(t){return!e(t)}))})}))},update:function(t){return r.update((function(a){return Object(o.a)(Object(o.a)({},a),{},{skills:a.skills.map((function(a){return a!==e?a:t(a)}))})}))}})):function(e){return l.a.createElement("tr",{className:"skill-row ".concat(e.attribute.name),key:e.key},l.a.createElement("td",{className:"skill-name"}," ",e.name," "),l.a.createElement("td",{className:"skill-level"}," ",e.level," "),l.a.createElement("td",{className:"skill-attribute"}," ",e.attribute.name," "),l.a.createElement("td",{className:"skill-dice"}," ",v(e).name," "),l.a.createElement("td",{className:"skill-delete"}," "))}(e)})))),l.a.createElement("div",{className:"skill-add"},a?l.a.createElement("button",{className:"btn btn-sm btn-success",onClick:function(){r.update((function(e){return Object(o.a)(Object(o.a)({},e),{},{skills:e.skills.concat(g(t))})}))}},"Add new skill"):null))},className:"skill-widget"};var M=l.a.createElement("option",{value:-1,key:-1}," Remove ");var R={header:function(e){var t=e.state,a=e.editMode,n=e.appControls.update,r=function(e){return n((function(t){return Object(o.a)(Object(o.a)({},t),{},{totem:e(t.totem)})}))},i=a?t.totem.fated.map((function(e){return l.a.createElement("select",{className:"btn",key:e.key,defaultValue:e.key,onChange:function(t){var a=t.target.value,n=Number.parseInt(a);r(-1===n?function(t){return Object(o.a)(Object(o.a)({},t),{},{fated:t.fated.filter((function(t){return t!==e}))})}:function(t){return Object(o.a)(Object(o.a)({},t),{},{fated:t.fated.map((function(t){return t.key===e.key?E().find((function(e){return e.key===Number.parseInt(a)})):t}))})})}},E().filter((function(a){return!t.totem.fated.includes(a)||a.key===e.key})).map((function(e){return l.a.createElement("option",{value:e.key,key:e.key},e.name)})).concat(M))})):t.totem.fated.map((function(e){return e.name})).join("/"),s=a&&t.totem.fated.length<3?l.a.createElement("button",{className:"btn btn-sm btn-success",onClick:function(){r((function(e){return Object(o.a)(Object(o.a)({},e),{},{fated:e.fated.concat(E().filter((function(e){return!t.totem.fated.includes(e)}))[0])})}))}},"+"):null;return l.a.createElement("div",{className:"header"},l.a.createElement("h5",{className:"modal-title"},"Totem ".concat(t.totem.fated.length>0?" - ":""),i,s))},body:function(e){var t=e.state,a=e.editMode,r=e.appControls.update,i=function(e){return r((function(t){return Object(o.a)(Object(o.a)({},t),{},{totem:e(t.totem)})}))};return l.a.createElement(n.Fragment,null,l.a.createElement("table",{className:"blessing-grid"},l.a.createElement("thead",{className:"blessing-header"},l.a.createElement("tr",null,l.a.createElement("th",{className:"blessing-name"}," Name "),l.a.createElement("th",{className:"blessing-fated"}," Fated "),l.a.createElement("th",{className:"blessing-level"}," Level "),l.a.createElement("th",{className:"blessing-effect"}," Effect "))),l.a.createElement("tbody",null,t.totem.blessings.map((function(e){return a?function(e,t,a){return l.a.createElement("tr",{key:e.key,className:"blessing-row ".concat(e.fated.attribute.name)},l.a.createElement("td",{className:"blessing-name"},l.a.createElement("select",{defaultValue:e.key,className:"btn",onChange:function(t){var n,l=Number.parseInt(t.target.value);console.log(l),n=function(){return N().find((function(e){return e.key===l}))},a((function(t){return Object(o.a)(Object(o.a)({},t),{},{blessings:t.blessings.map((function(t){return e.key===t.key?n(t):t}))})}))}},N().filter((function(a){return t.totem.fated.includes(a.fated)&&!t.totem.blessings.includes(a)||a.key===e.key})).map((function(e){return l.a.createElement("option",{value:e.key,key:e.key},e.name)}))," ")," "),l.a.createElement("td",{className:"blessing-fated"}," ",e.fated.name," "),l.a.createElement("td",{className:"blessing-level"}," ",e.level," "),l.a.createElement("td",{className:"blessing-effect"}," ",e.effect," "),l.a.createElement("td",{className:"blessing-delete"},l.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm btn",onClick:function(){return a((function(t){return Object(o.a)(Object(o.a)({},t),{},{blessings:t.blessings.filter((function(t){return t.key!==e.key}))})}))}},"x")))}(e,t,i):function(e){return l.a.createElement("tr",{key:e.key,className:"blessing-row ".concat(e.fated.attribute.name)},l.a.createElement("td",{className:"blessing-name"}," ",e.name," "),l.a.createElement("td",{className:"blessing-fated"}," ",e.fated.name," "),l.a.createElement("td",{className:"blessing-level"}," ",e.level," "),l.a.createElement("td",{className:"blessing-effect"}," ",e.effect," "))}(e)})))),l.a.createElement("div",{className:"blessing-add"},a?l.a.createElement("button",{className:"btn btn-sm btn-success",onClick:function(){i((function(e){return Object(o.a)(Object(o.a)({},e),{},{blessings:e.blessings.concat(N().filter((function(e){return t.totem.fated.includes(e.fated)&&!t.totem.blessings.includes(e)}))[0])})}))}},"Add new blessing"):null))},className:"blessing-widget"},W=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).updateUI=function(e){n.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{ui:e(t.ui)})}))},n.updateCharacter=function(e){n.updateModel((function(t){return Object(o.a)(Object(o.a)({},t),{},{character:e(t.character)})}))},n.updateModel=function(e){n.setState((function(t){var a,n=Object(o.a)(Object(o.a)({},t),{},{model:e(t.model)});return localStorage.setItem("ToF-Model",(a=n.model.character,JSON.stringify({version:1,data:Object(o.a)(Object(o.a)({},a),{},{attributes:y().map((function(e){return a.attributes.get(e)}))})}))),n}))},n.openDialog=function(e,t){n.updateUI((function(a){return Object(o.a)(Object(o.a)({},a),{},{dialog:{isOpen:!0,header:e,body:t,model:n.state.model.character}})}))},n.AppControls={openDialog:n.openDialog,update:n.updateCharacter,remove:function(){}},n.WidgetProps=function(){return{appControls:n.AppControls,state:n.state.model.character,editMode:!1}};var l=localStorage.getItem("ToF-Model"),r=null;try{r=l?{character:C(l)}:{character:P()}}catch(i){r||(r={character:P()})}return n.state={model:r,ui:{dialog:{isOpen:!1,body:function(){return null},header:function(){return null},model:r.character}}},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App card-columns"},m(this.WidgetProps(),S),m(this.WidgetProps(),F),m(this.WidgetProps(),R),l.a.createElement(f,{updateUI:this.updateUI,appControls:this.AppControls,dialogState:this.state.ui.dialog}))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.bf521ed7.chunk.js.map